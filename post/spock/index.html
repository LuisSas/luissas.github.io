<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    
    <meta name="description" content="My new site.">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="/">
    
    <meta name="twitter:image" content="/tn.png">
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Call me Jack">
    <meta name="twitter:description" property="og:description" itemprop="description" content="My new site.">
    <meta name="og:type" content="website">
    <meta name="og:url" content="/">
    <meta name="og:image" itemprop="image primaryImageOfPage" content="/tn.png">
    
    <title>Call me Jack</title>
    <link rel="shortcut icon" href="/sam.ico" id="favicon">
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109683885-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-109683885-1');
    </script>
    

</head>

</html>
<body><div class="wrap"><div class="section" id="title">Spock</div><div class="section" id="content">

<h2 id="spock">Spock</h2>

<p>Spock es un framework para hacer pruebas en Java o en Groovy, desde un ejercicio sencillo hasta una aplicación completa llena de servicios que probar. Lo que hace diferente a spock es su forma de hacer las pruebas de una forma tan explicita y una sintaxis demasiado amigable y legible.</p>

<p>Al momento de hacer pruebas, me di cuenta que si son muy utilies a la hora de programar, son de lo mas importante, y a la hora de leerlas no es muy dificil entenderles, bueno eso con problemas pequeños, pero a la hora de hacer un proceso mas grande se dificulta el seguir el ritmo de las pruebas, ahí es donde entra spock.</p>

<p>Lo que hace interesante a spock es darte una simplificación mayor a la hora de hacer tus pruebas, logra que las pruebas que hagas se vean de una forma simple y elegante, aunque se tengan que probar varias cosas a la vez.</p>

<p>Pero que hace que spock sea de tanta ayuda, pues como anteriormente dije, su sintaxis, la forma en la que se ven tus pruebas dan una vista mas amigable y coqueta a estas, la forma en que se escribe el problema a tratar es tan explicito y facil de entender tanto que hasta alguien que no sabe programar sabe que es lo que esta probando la prueba.</p>

<p>Como se declaran las pruebas en spock es de la manera mas sencilla posible, <em>En forma de String</em>, esto hace que puedas tener algo como esto:</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span>  <span style="color: #e6db74">&quot;Making tests&quot;</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
  
<span style="color: #f8f8f2">}</span>
</pre></div>

<hr />

<p>De esta forma puedes entender que hace cada prueba y no importa si tienes muchas pruebas seguidas en el caso de que hagas por ejemplo las pruebas de una calculadora y quieras probar la suma, la resta y la multiplicación las puedes declarar de la siguiente manera:</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing sum&quot;</span><span style="color: #f8f8f2">(){}</span>
<span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing subtraction&quot;</span><span style="color: #f8f8f2">(){}</span>
<span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing multiplication&quot;</span><span style="color: #f8f8f2">(){}</span>
</pre></div>

<p>De esta forma puedes entender lo que va a hacer cada prueba, que va a ser la tarea que va a realizar cada una, lo que esta bastante bien, ya que sin saber nada de código alguien sabe que la primera prueba va a ejecutar el proceso de hacer una suma, la segunda las restas y asi sucesivamente.</p>

<p>Ahora vamos a explicar lo que va a ir dentro de las pruebas de spock, por que spock no solo tiene los nombres bonitos, tiene diferentes especificaciones o bloques que se pueden meter dentro de los metodos de las pruebas, bueno en realidad se tienen que meter estos bloques para que funcionen de algo estas pruebas&hellip; no todos los bloques son necesarios, pero es util saber cuales son, por ejemplo:</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Making test&quot;</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
	<span style="color: #f8f8f2">blocks</span> <span style="color: #f8f8f2">go</span> <span style="color: #f8f8f2">here</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Y los bloques que pueden ir dentro de las pruebas de spock pueden ser los siguientes:</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Making test&quot;</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
	<span style="color: #f8f8f2">given</span><span style="color: #f92672">:</span>
	<span style="color: #f8f8f2">when</span><span style="color: #f92672">:</span>
	<span style="color: #f8f8f2">and</span><span style="color: #f92672">:</span>
	<span style="color: #f8f8f2">then</span><span style="color: #f92672">:</span>
	<span style="color: #f8f8f2">where</span><span style="color: #f92672">:</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>El primer bloque como su nombre lo indica es &ldquo;dado&rdquo;, vamos a llenar este bloque o la descripción de este bloque con algo que se nos de, en el caso de sumas, la prueba de sumar que estaba anteriormente le vamos a dar un dato por ejemplo</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing sum&quot;</span><span style="color: #f92672">(){</span>
	<span style="color: #f8f8f2">given</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;A number&quot;</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Hasta este paso nosotros ya tenemos lo que es el valor que vamos a dar, si queremos dar mas valores podriamos poner el bloque <strong>and</strong></p>

<p>Por lo regular despues de este bloque podemos escribir lo demas que se espera al ejecutar la prueba, en este caso seria lo que se espera hacer y el resultado que se espera.</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing sum&quot;</span><span style="color: #f92672">(){</span>
	<span style="color: #f8f8f2">given</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;A number&quot;</span>
	<span style="color: #f8f8f2">when</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Calculating with this number&quot;</span>
	<span style="color: #f8f8f2">then</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Result&quot;</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Eso es lo que va a hacer nuestra prueba, va a recibir un número, despues va a calcular con ese numero y va a esperar si el resultado si es el esperado con el obtenido, pero esto no funciona si solo lo dejamos así, por lo que vamos a escribir que es lo que esta adentro de cada bloque.</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing sum&quot;</span><span style="color: #f92672">(){</span>
    <span style="color: #f8f8f2">given</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;A number&quot;</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number1</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">5</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number2</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">5</span>
    <span style="color: #f8f8f2">when</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Calculating with these numbers&quot;</span>
        <span style="color: #75715e">//Aqui vamos a poner el metodo que se va a ejecutar</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">calculator</span><span style="color: #f92672">.</span><span style="color: #a6e22e">sum</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">number1</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">number2</span><span style="color: #f92672">)</span>
    <span style="color: #f8f8f2">then</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Result&quot;</span>
        <span style="color: #f8f8f2">result</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">10</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Hasta este punto ya tenemos nuestra prueba hecha, pero nos falta escribir el código que pase esa prueba.</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">class</span> <span style="color: #a6e22e">Calculator</span><span style="color: #f92672">{</span>
    <span style="color: #f8f8f2">def</span> <span style="color: #a6e22e">sum</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number1</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number2</span><span style="color: #f92672">){</span>
        <span style="color: #f8f8f2">number1</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">number2</span>
    <span style="color: #f92672">}</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Y aqui es donde entra otro cambio importante de spock con respecto de otras herramientas para hacer testing, y es que puedes probar multiples casos y compararlos todos de una manera secuencial, para eso nuestro bloque de <strong>where</strong> es el que nos va a facilitar eso.</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">void</span> <span style="color: #e6db74">&quot;Testing sum&quot;</span><span style="color: #f92672">(){</span>
    <span style="color: #f8f8f2">given</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;A number&quot;</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number1</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">numbers1</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">number2</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">numbers2</span>
    <span style="color: #f8f8f2">when</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Calculating with these numbers&quot;</span>
        <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">calculator</span><span style="color: #f92672">.</span><span style="color: #a6e22e">sum</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">number1</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">number2</span><span style="color: #f92672">)</span>
    <span style="color: #f8f8f2">then</span><span style="color: #f92672">:</span><span style="color: #e6db74">&quot;Result&quot;</span>
        <span style="color: #f8f8f2">result</span> <span style="color: #f92672">==</span> <span style="color: #f8f8f2">expected</span>
    <span style="color: #f8f8f2">where</span><span style="color: #f92672">:</span>
    <span style="color: #f8f8f2">numbers1</span>    <span style="color: #f92672">|</span>    <span style="color: #f8f8f2">numbers2</span>    <span style="color: #f92672">||</span>    <span style="color: #f8f8f2">expected</span>
    <span style="color: #ae81ff">1</span>           <span style="color: #f92672">|</span>    <span style="color: #ae81ff">2</span>           <span style="color: #f92672">||</span>    <span style="color: #ae81ff">3</span>
    <span style="color: #ae81ff">2</span>           <span style="color: #f92672">|</span>    <span style="color: #ae81ff">10</span>          <span style="color: #f92672">||</span>    <span style="color: #ae81ff">12</span>
    <span style="color: #ae81ff">10000</span>       <span style="color: #f92672">|</span>    <span style="color: #ae81ff">10000</span>       <span style="color: #f92672">||</span>    <span style="color: #ae81ff">20000</span>
    <span style="color: #f92672">-</span><span style="color: #ae81ff">10</span>         <span style="color: #f92672">|</span>    <span style="color: #ae81ff">20</span>          <span style="color: #f92672">||</span>    <span style="color: #ae81ff">10</span>
    <span style="color: #f92672">-</span><span style="color: #ae81ff">10</span>         <span style="color: #f92672">|</span>    <span style="color: #f92672">-</span><span style="color: #ae81ff">5</span>          <span style="color: #f92672">||</span>    <span style="color: #f92672">-</span><span style="color: #ae81ff">15</span>
    <span style="color: #ae81ff">0</span>           <span style="color: #f92672">|</span>    <span style="color: #ae81ff">0</span>           <span style="color: #f92672">||</span>    <span style="color: #ae81ff">0</span>
<span style="color: #f92672">}</span>
</pre></div>

<p>Ya en este punto se probaron varios casos y sin la necesidad de hacer mas test por aparte, por lo que se puede ver que este bloque te facilita las cosas tanto, de una manera maravillosa!!</p>
</div><div class="section bottom-menu"><hr/><p><a href="/post">Posts</a>

&#183; <a href="/about">who is Jack?</a>
&#183; <a href="/">main</a></p></div><div class="section footer">Call me Jack, enjoy it.</div></div></body>